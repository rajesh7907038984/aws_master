{% extends 'base.html' %}
{% load static %}

{% block title %}Add Conference - LMS{% endblock %}

{% block extra_css %}
<style>
    body {
        background-color: #f5f7fa !important;
    }
    
    .main-content {
        background-color: #f5f7fa !important;
    }
    
    main.flex-1.bg-white {
        background-color: #f5f7fa !important;
    }
    
    .form-input {
        width: 100%;
        border: 1px solid #e2e8f0;
        border-radius: 0.375rem;
        padding: 0.5rem 0.75rem;
        font-size: 0.875rem;
        color: #1a202c;
        background-color: white;
    }
    
    .form-input:focus {
        outline: none;
        border-color: #4299e1;
        box-shadow: 0 0 0 1px #4299e1;
    }
    
    .form-textarea {
        width: 100%;
        border: 1px solid #e2e8f0;
        border-radius: 0.375rem;
        padding: 0.5rem 0.75rem;
        font-size: 0.875rem;
        min-height: 8rem;
        color: #1a202c;
        background-color: white;
    }
    
    .form-textarea:focus {
        outline: none;
        border-color: #4299e1;
        box-shadow: 0 0 0 1px #4299e1;
    }
    
    .slider-container {
        width: 100%;
        padding: 1rem 0;
    }
    
    .slider {
        -webkit-appearance: none;
        width: 100%;
        height: 4px;
        border-radius: 5px;
        background: #d7dcdf;
        outline: none;
        margin-bottom: 1rem;
    }
    
    .slider::-webkit-slider-thumb {
        -webkit-appearance: none;
        appearance: none;
        width: 20px;
        height: 20px;
        border-radius: 50%;
        background: #1C64F2;
        cursor: pointer;
    }
    
    .slider::-moz-range-thumb {
        width: 20px;
        height: 20px;
        border-radius: 50%;
        background: #1C64F2;
        cursor: pointer;
    }
    
    .error-message {
        color: #e53e3e;
        font-size: 0.875rem;
        margin-top: 0.5rem;
    }

    /* Section box styles */
    .section-box {
        border-radius: 12px;
        box-shadow: 0px 0px 20px -8px rgba(0,0,0,0.15);
        background-color: white;
        transition: all 0.25s ease-in-out;
    }
    
    .section-box:hover {
        transform: translateY(-3px);
        box-shadow: 0px 10px 25px -5px rgba(0,0,0,0.1);
    }
    
    /* Unique padding for different sections */
    .section-box.activity {
        padding: 1.75rem !important;
    }
</style>
{% endblock %}

{% block content %}
<div class="container mx-auto px-4 py-6">
    <!-- Breadcrumbs -->
    {% include 'components/breadcrumb.html' with breadcrumbs=breadcrumbs %}

    <!-- Main grid with 70-30 split -->
    <div class="grid grid-cols-12 gap-4 md:gap-6">
        <!-- Left Column (70%) -->
        <div class="col-span-12 lg:col-span-8 transition-all duration-300">
            <section class="section-box activity">
                <div class="mb-6">
                    <h1 class="text-2xl font-bold text-gray-800">Add Conference</h1>
                </div>

                <form method="post">
                    {% csrf_token %}
                    
                    {% if error %}
                    <div class="mb-4 p-4 bg-red-100 text-red-700 rounded-md">
                        {{ error }}
                    </div>
                    {% endif %}
                    
                    <!-- Name Field -->
                    <div class="mb-4">
                        <label for="name" class="block text-sm font-medium text-gray-700 mb-1">Name</label>
                        <input type="text" id="name" name="name" placeholder="Type a name" class="form-input" required>
                    </div>
                    
                    <!-- Date and Time Fields -->
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                        <div>
                            <label for="date" class="block text-sm font-medium text-gray-700 mb-1">Date</label>
                            <input type="date" id="date" name="date" class="form-input" required>
                        </div>
                        <div>
                            <label for="start_time" class="block text-sm font-medium text-gray-700 mb-1">Start time</label>
                            <input type="time" id="start_time" name="start_time" class="form-input" required>
                        </div>
                    </div>
                    
                    <!-- Password Field -->
                    <div class="mb-4">
                        <label for="password" class="block text-sm font-medium text-gray-700 mb-1">Password</label>
                        <input type="password" id="password" name="password" placeholder="Type a password" class="form-input">
                    </div>
                    
                    <!-- Duration Slider -->
                    <div class="mb-4">
                        <label for="duration" class="block text-sm font-medium text-gray-700 mb-1">Duration</label>
                        <div class="slider-container">
                            <input type="range" min="5" max="120" value="15" class="slider" id="duration" name="duration">
                            <div class="flex justify-between">
                                <span id="duration-value" class="text-sm font-medium text-gray-700">15</span>
                                <span class="text-sm text-gray-500">Minutes</span>
                            </div>
                        </div>
                        <p class="text-xs text-gray-500 mt-1">Make sure that the duration is below your plan limits</p>
                    </div>
                    
                    <!-- Description Field -->
                    <div class="mb-6">
                        <label for="description" class="block text-sm font-medium text-gray-700 mb-1">Description</label>
                        <textarea id="description" name="description" placeholder="Type a description" class="form-textarea"></textarea>
                    </div>
                    
                    <!-- Form Actions -->
                    <div class="flex justify-start space-x-4">
                        <button type="submit" class="bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded transition duration-300 ease-in-out">
                            Save
                        </button>
                        <a href="{% url 'conferences:conference_list' %}" class="bg-white border border-gray-300 text-gray-700 font-medium py-2 px-4 rounded hover:bg-gray-50 transition duration-300 ease-in-out">
                            Cancel
                        </a>
                    </div>
                </form>
            </section>
        </div>

        <!-- Right Column (30%) -->
        <div class="col-span-12 lg:col-span-4 transition-all duration-300">
            {% include 'components/right_sidebar.html' %}
        </div>
    </div>
</div>

<script>
    // Update the duration value display when slider changes
    const durationSlider = document.getElementById('duration');
    const durationValue = document.getElementById('duration-value');
    
    durationSlider.addEventListener('input', function() {
        durationValue.textContent = this.value;
    });
</script>
{% endblock %} 