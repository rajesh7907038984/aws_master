{% comment %}
TinyMCE Editor Field Component
This template provides a reusable field component for the TinyMCE Editor.

Parameters:
- field_name: The name of the form field
- field_value: The initial value of the field
- field_label: The label text to display
- field_help: Help text to display below the editor
- field_required: Whether the field is required (default: false)
- field_height: The height of the editor (default: 300px)
{% endcomment %}

{% load static %}

<div class="tinymce-editor-field-wrapper mb-4">
    <label for="id_{{ field_name }}" class="block text-sm font-medium text-gray-700 mb-2">
        {{ field_label|default:field_name|title }}
        {% if field_required %}<span class="text-red-500">*</span>{% endif %}
    </label>
    
    <!-- TinyMCE Editor -->
    <textarea id="id_{{ field_name }}" name="{{ field_name }}" 
              class="tinymce-editor border border-gray-300 rounded-md w-full"
              style="min-height: {{ field_height|default:'300px' }};"
              {% if field_required %}required{% endif %}>{{ field_value|safe }}</textarea>
    
    {% if field_help %}
    <p class="mt-1 text-sm text-gray-500">{{ field_help }}</p>
    {% endif %}
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        if (typeof tinymce !== 'undefined') {
            tinymce.init({
                selector: '#id_{{ field_name }}',
                plugins: 'link image lists table code',
                toolbar: 'undo redo | styles | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image | table | code',
                menubar: 'edit view insert format table',
                statusbar: true,
                resize: true,
                height: {{ field_height|default:'300'|cut:'px' }},
                base_url: '{% static "tinymce_editor/tinymce/" %}',
                branding: false,
                promotion: false
            });
        }
    });
</script> 