{% comment %}
Nexsy Editor Field Component
This template provides a reusable field component for the Nexsy Editor.

Parameters:
- field_name: The name of the form field
- field_value: The initial value of the field
- field_label: The label text to display
- field_help: Help text to display below the editor
- field_required: Whether the field is required (default: false)
- field_height: The height of the editor (default: 200px)
- config: Editor configuration preset (default: 'default')
{% endcomment %}

{% load static %}

<div class="nexsy-editor-field-wrapper mb-4">
    <label for="nexsy-{{ field_name }}-input" class="block text-sm font-medium text-gray-700 mb-2">
        {{ field_label|default:field_name|title }}
        {% if field_required %}<span class="text-red-500">*</span>{% endif %}
    </label>
    
    <!-- Hidden input to store editor content -->
    <input type="hidden" name="{{ field_name }}" id="nexsy-{{ field_name }}-input" 
           value="{{ field_value|default:'' }}" 
           {% if field_required %}required{% endif %} />
    
    <!-- Editor container -->
    <div class="nexsy-editor-container border border-gray-300 rounded-md"
         data-field-name="{{ field_name }}"
         data-config="{{ config|default:'default' }}">
        
        <!-- Editor toolbar will be inserted here -->
        <div class="nexsy-editor-toolbar"></div>
        
        <!-- Editor content area -->
        <div id="nexsy-{{ field_name }}-editor" class="nexsy-editor-content" 
             style="min-height: {{ field_height|default:'200px' }};">{{ field_value|escape }}</div>
        
        <!-- Editor footer with stats -->
        <div class="nexsy-editor-footer">
            <span id="nexsy-{{ field_name }}-word-count">0 words</span>
            <span id="nexsy-{{ field_name }}-char-count">0 characters</span>
        </div>
    </div>
    
    {% if field_help %}
    <p class="mt-1 text-sm text-gray-500">{{ field_help }}</p>
    {% endif %}
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Initialize this specific editor field
        if (typeof NexsyEditor !== 'undefined') {
            NexsyEditor.initializeField('{{ field_name }}');
        }
    });
</script> 