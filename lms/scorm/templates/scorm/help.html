{% extends 'base.html' %}
{% load static %}

{% block title %}SCORM Help & Guidelines{% endblock %}

{% block extra_css %}
<style>
    .help-container {
        max-width: 900px;
        margin: 40px auto;
        padding: 20px;
    }
    
    .help-card {
        background: white;
        border-radius: 8px;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        padding: 30px;
        margin-bottom: 20px;
    }
    
    .help-header {
        text-align: center;
        margin-bottom: 40px;
        border-bottom: 2px solid #e5e7eb;
        padding-bottom: 20px;
    }
    
    .help-section {
        margin-bottom: 30px;
    }
    
    .help-section h3 {
        color: #1f2937;
        border-left: 4px solid #3b82f6;
        padding-left: 15px;
        margin-bottom: 15px;
    }
    
    .requirements-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 20px;
        margin: 20px 0;
    }
    
    .requirement-card {
        background: #f9fafb;
        border: 1px solid #e5e7eb;
        border-radius: 6px;
        padding: 20px;
    }
    
    .requirement-card h4 {
        color: #374151;
        margin-bottom: 10px;
    }
    
    .requirement-list {
        list-style: none;
        padding: 0;
        margin: 0;
    }
    
    .requirement-list li {
        padding: 5px 0;
        color: #6b7280;
    }
    
    .requirement-list li:before {
        content: "‚úì";
        color: #10b981;
        font-weight: bold;
        margin-right: 8px;
    }
    
    .warning-box {
        background: #fef3c7;
        border: 1px solid #fcd34d;
        border-radius: 6px;
        padding: 15px;
        margin: 20px 0;
    }
    
    .warning-box h4 {
        color: #92400e;
        margin-bottom: 10px;
    }
    
    .warning-box p {
        color: #92400e;
        margin: 0;
    }
    
    .code-block {
        background: #1f2937;
        color: #e5e7eb;
        padding: 15px;
        border-radius: 6px;
        font-family: 'Courier New', monospace;
        margin: 15px 0;
        overflow-x: auto;
    }
    
    .btn-primary {
        background: #3b82f6;
        color: white;
        padding: 12px 24px;
        border: none;
        border-radius: 6px;
        text-decoration: none;
        display: inline-block;
        margin: 10px 10px 10px 0;
        cursor: pointer;
    }
    
    .btn-primary:hover {
        background: #2563eb;
    }
    
    .btn-secondary {
        background: #6b7280;
        color: white;
        padding: 12px 24px;
        border: none;
        border-radius: 6px;
        text-decoration: none;
        display: inline-block;
        margin: 10px 10px 10px 0;
    }
    
    .btn-secondary:hover {
        background: #4b5563;
    }
</style>
{% endblock %}

{% block content %}
<div class="help-container">
    <div class="help-card">
        <div class="help-header">
            <h1>üìö SCORM Help & Guidelines</h1>
            <p>Everything you need to know about creating and uploading SCORM packages</p>
        </div>
        
        <div class="help-section">
            <h3>üéØ What is SCORM?</h3>
            <p>SCORM (Sharable Content Object Reference Model) is a set of technical standards for e-learning software products. It enables interoperability, accessibility and reusability of web-based learning content.</p>
        </div>
        
        <div class="help-section">
            <h3>üìã System Requirements</h3>
            <div class="requirements-grid">
                <div class="requirement-card">
                    <h4>File Requirements</h4>
                    <ul class="requirement-list">
                        <li>ZIP format only</li>
                        <li>Maximum size: {{ scorm_requirements.max_size }}</li>
                        <li>Must contain imsmanifest.xml</li>
                        <li>Must have valid SCORM structure</li>
                    </ul>
                </div>
                
                <div class="requirement-card">
                    <h4>Supported Versions</h4>
                    <ul class="requirement-list">
                        {% for version in scorm_requirements.supported_versions %}
                        <li>{{ version }}</li>
                        {% endfor %}
                    </ul>
                </div>
                
                <div class="requirement-card">
                    <h4>Required Files</h4>
                    <ul class="requirement-list">
                        {% for file in scorm_requirements.required_files %}
                        <li>{{ file }}</li>
                        {% endfor %}
                        <li>Launch file (index.html, story.html, etc.)</li>
                        <li>Content resources (HTML, CSS, JS)</li>
                    </ul>
                </div>
                
                <div class="requirement-card">
                    <h4>Content Guidelines</h4>
                    <ul class="requirement-list">
                        <li>Use relative paths for resources</li>
                        <li>Include all dependencies</li>
                        <li>Test in multiple browsers</li>
                        <li>Avoid external dependencies</li>
                    </ul>
                </div>
            </div>
        </div>
        
        <div class="help-section">
            <h3>‚ö° How to Upload SCORM Content</h3>
            <ol>
                <li><strong>Create or Edit a Course Topic:</strong> Go to your course and create a new topic or edit an existing one</li>
                <li><strong>Select SCORM Package:</strong> Choose "SCORM Package" as the content type</li>
                <li><strong>Upload ZIP File:</strong> Upload your SCORM package as a ZIP file</li>
                <li><strong>Save:</strong> The system will automatically validate and process the package</li>
                <li><strong>Test:</strong> Use preview mode to test the content before publishing</li>
            </ol>
        </div>
        
        <div class="help-section">
            <h3>üé≠ Preview Mode (Instructors & Admins)</h3>
            <p>Preview mode allows instructors and administrators to test SCORM content without creating database records:</p>
            <ul>
                <li>Add <code>?preview=true</code> to the SCORM player URL</li>
                <li>All SCORM API calls are logged but not saved</li>
                <li>Perfect for testing content before student access</li>
                <li>Switch between preview and normal mode using the player buttons</li>
            </ul>
            
            <div class="code-block">
Example Preview URL:
/scorm/player/123/?preview=true
            </div>
        </div>
        
        <div class="warning-box">
            <h4>‚ö†Ô∏è Common Issues</h4>
            <p><strong>Mixed Content:</strong> Ensure all resources use HTTPS or relative URLs<br>
            <strong>Large Files:</strong> Keep individual files under 50MB for best performance<br>
            <strong>Popup Blockers:</strong> Some SCORM content may be blocked by popup blockers<br>
            <strong>Browser Compatibility:</strong> Test content in Chrome, Firefox, Safari, and Edge</p>
        </div>
        
        <div class="help-section">
            <h3>üîç Validation & Troubleshooting</h3>
            <p>Our SCORM validator checks for:</p>
            <ul>
                <li>Valid ZIP file structure</li>
                <li>Presence of required files (imsmanifest.xml)</li>
                <li>Valid XML manifest structure</li>
                <li>SCORM version detection</li>
                <li>Security scans for suspicious files</li>
                <li>Performance checks for large files</li>
            </ul>
            
            <p>If validation fails, check the error messages and ensure your package meets all requirements.</p>
        </div>
        
        <div class="help-section">
            <h3>üõ†Ô∏è Authoring Tools</h3>
            <p>Popular SCORM authoring tools include:</p>
            <ul>
                <li><strong>Articulate Storyline:</strong> Professional e-learning authoring</li>
                <li><strong>Adobe Captivate:</strong> Responsive e-learning content</li>
                <li><strong>iSpring Suite:</strong> PowerPoint-based authoring</li>
                <li><strong>Lectora:</strong> Accessible e-learning content</li>
                <li><strong>H5P:</strong> Interactive content types</li>
            </ul>
        </div>
        
        <div style="text-align: center; margin-top: 40px; border-top: 2px solid #e5e7eb; padding-top: 20px;">
            <a href="{% url 'scorm:validation_test' %}" class="btn-primary">
                üß™ Test SCORM Package
            </a>
            <a href="javascript:history.back()" class="btn-secondary">
                ‚Üê Back
            </a>
        </div>
    </div>
</div>
{% endblock %}
