{% load static %}
<!-- Browser compatibility detection for TinyMCE -->
<script>
    (function() {
        // Check if we've already run the compatibility detection
        if (typeof window.browserHasES6Support === 'undefined') {
            window.browserHasES6Support = false;
            try {
                // Test for ES6 features
                eval('const test = () => {};');
                window.browserHasES6Support = true;
            } catch (e) {
                console.warn('Browser does not support ES6 features, using ES5 compatible scripts for TinyMCE');
                window.browserHasES6Support = false;
            }
        }
        
        // If browser doesn't support ES6, load our compatibility script
        if (!window.browserHasES6Support && !window.tinymceES5CompatLoaded) {
            console.log('Loading TinyMCE ES5 compatibility script');
            var script = document.createElement('script');
            script.src = "{% static 'core/js/tinymce-es5-compat.js' %}";
            document.head.appendChild(script);
            window.tinymceES5CompatLoaded = true;
        }
    })();
</script> 