{% load static %}
<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Privacy Policy - Nexsy LMS</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="{% static 'css/style.css' %}" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <style>
        body {
            background: #f8fafc;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
        }
        
        .privacy-container {
            max-width: 4xl;
            margin: 0 auto;
            background: white;
            border-radius: 0.75rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }
        
        .privacy-header {
            background: linear-gradient(135deg, #1c2260 0%, #2d3785 100%);
            color: white;
            padding: 2rem;
            text-align: center;
        }
        
        .privacy-content {
            padding: 2rem;
            color: #374151;
        }
        
        .privacy-content h2 {
            color: #1c2260;
            font-size: 1.5rem;
            font-weight: 600;
            margin: 2rem 0 1rem 0;
            border-bottom: 2px solid #e5e7eb;
            padding-bottom: 0.5rem;
        }
        
        .privacy-content h3 {
            color: #4b5563;
            font-size: 1.25rem;
            font-weight: 600;
            margin: 1.5rem 0 0.75rem 0;
        }
        
        .privacy-content p {
            margin-bottom: 1rem;
            text-align: justify;
        }
        
        .privacy-content ul {
            margin: 1rem 0;
            padding-left: 2rem;
        }
        
        .privacy-content li {
            margin-bottom: 0.5rem;
        }
        
        .contact-info {
            background: #f3f4f6;
            padding: 1.5rem;
            border-radius: 0.5rem;
            margin: 2rem 0;
        }
        
        .last-updated {
            color: #6b7280;
            font-size: 0.875rem;
            font-style: italic;
            text-align: center;
            margin-top: 2rem;
            padding-top: 2rem;
            border-top: 1px solid #e5e7eb;
        }
        
        @media (max-width: 768px) {
            .privacy-container {
                margin: 1rem;
            }
            
            .privacy-header,
            .privacy-content {
                padding: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <div class="min-h-screen py-8 px-4">
        <div class="privacy-container">
            <div class="privacy-header">
                <h1 class="text-3xl font-bold mb-2">Privacy Policy</h1>
                <p class="text-blue-200">Nexsy Learning Management System</p>
            </div>
            
            <div class="privacy-content">
                <h2>1. Introduction</h2>
                <p>
                    Nexsy Learning Management System ("we", "our", "us") is committed to protecting your privacy. 
                    This Privacy Policy explains how we collect, use, disclose, and safeguard your information when 
                    you use our learning management platform.
                </p>

                <h2>2. Information We Collect</h2>
                
                <h3>2.1 Personal Information</h3>
                <p>We may collect personally identifiable information, such as:</p>
                <ul>
                    <li><strong>Identity Data:</strong> First name, last name, username, date of birth</li>
                    <li><strong>Contact Data:</strong> Email address, phone number, postal address</li>
                    <li><strong>Account Data:</strong> Login credentials, security questions and answers</li>
                    <li><strong>Profile Data:</strong> Preferences, interests, educational background</li>
                </ul>

                <h3>2.2 Educational Data</h3>
                <p>We collect information related to your learning activities:</p>
                <ul>
                    <li>Course enrollment and progress information</li>
                    <li>Assessment scores and completion status</li>
                    <li>Assignment submissions and feedback</li>
                    <li>Discussion forum posts and interactions</li>
                    <li>Learning analytics and performance metrics</li>
                </ul>

                <h3>2.3 Technical Data</h3>
                <p>We automatically collect certain information:</p>
                <ul>
                    <li>IP address, browser type and version, device information</li>
                    <li>Time zone setting, operating system and platform</li>
                    <li>Usage data (pages visited, time spent, click patterns)</li>
                    <li>Cookies and similar tracking technologies</li>
                </ul>

                <h2>3. How We Use Your Information</h2>
                <p>We use the collected information for various purposes:</p>
                <ul>
                    <li><strong>Educational Services:</strong> To provide, operate, and maintain our learning platform</li>
                    <li><strong>Personalization:</strong> To customize your learning experience and recommendations</li>
                    <li><strong>Communication:</strong> To contact you with updates, notifications, and support</li>
                    <li><strong>Analytics:</strong> To understand and analyze usage patterns and improve our services</li>
                    <li><strong>Security:</strong> To detect, prevent, and address technical issues and security vulnerabilities</li>
                    <li><strong>Compliance:</strong> To comply with legal obligations and protect our rights</li>
                </ul>

                <h2>4. Information Sharing and Disclosure</h2>
                
                <h3>4.1 Educational Institution Sharing</h3>
                <p>
                    If you are enrolled through an educational institution, we may share your educational progress 
                    and performance data with authorized personnel at your institution, including instructors, 
                    academic advisors, and administrators.
                </p>

                <h3>4.2 Service Providers</h3>
                <p>
                    We may share your information with third-party service providers who assist us in operating 
                    our platform, conducting business, or serving our users. These parties are contractually 
                    obligated to keep your information confidential.
                </p>

                <h3>4.3 Legal Requirements</h3>
                <p>
                    We may disclose your information if required by law or in response to valid requests by public 
                    authorities (e.g., a court or government agency).
                </p>

                <h2>5. Data Security</h2>
                <p>
                    We implement appropriate technical and organizational security measures to protect your personal 
                    information against unauthorized access, alteration, disclosure, or destruction. These measures include:
                </p>
                <ul>
                    <li>Encryption of data in transit and at rest</li>
                    <li>Regular security assessments and updates</li>
                    <li>Access controls and authentication mechanisms</li>
                    <li>Employee training on data protection</li>
                    <li>Incident response procedures</li>
                </ul>

                <h2>6. Data Retention</h2>
                <p>
                    We retain your personal information only for as long as necessary to fulfill the purposes for 
                    which it was collected, including:
                </p>
                <ul>
                    <li>Account information: For the duration of your active account plus 7 years</li>
                    <li>Educational records: As required by educational regulations (typically 7-10 years)</li>
                    <li>Usage data: Aggregated data may be retained indefinitely for analytical purposes</li>
                    <li>Communication records: 3 years from the date of communication</li>
                </ul>

                <h2>7. Your Rights and Choices</h2>
                <p>You have the following rights regarding your personal information:</p>
                <ul>
                    <li><strong>Access:</strong> Request access to your personal data</li>
                    <li><strong>Correction:</strong> Request correction of inaccurate or incomplete data</li>
                    <li><strong>Deletion:</strong> Request deletion of your personal data (subject to legal requirements)</li>
                    <li><strong>Portability:</strong> Request a copy of your data in a structured, machine-readable format</li>
                    <li><strong>Withdrawal:</strong> Withdraw consent where processing is based on consent</li>
                    <li><strong>Objection:</strong> Object to processing of your personal data in certain circumstances</li>
                </ul>

                <h2>8. Cookies and Tracking Technologies</h2>
                <p>
                    We use cookies and similar tracking technologies to enhance your experience on our platform. 
                    You can control cookie settings through your browser preferences, though disabling certain 
                    cookies may affect platform functionality.
                </p>

                <h3>8.1 Types of Cookies We Use</h3>
                <ul>
                    <li><strong>Essential Cookies:</strong> Required for basic platform functionality</li>
                    <li><strong>Performance Cookies:</strong> Help us understand how visitors interact with our platform</li>
                    <li><strong>Functionality Cookies:</strong> Enable personalized features and remember your preferences</li>
                    <li><strong>Analytics Cookies:</strong> Provide insights into usage patterns and performance</li>
                </ul>

                <h2>9. International Data Transfers</h2>
                <p>
                    Your information may be transferred to and processed in countries other than your own. 
                    We ensure appropriate safeguards are in place to protect your data in accordance with this Privacy Policy.
                </p>

                <h2>10. Children's Privacy</h2>
                <p>
                    Our service is not intended for children under 13 years of age. We do not knowingly collect 
                    personal information from children under 13. If we become aware that we have collected personal 
                    information from a child under 13, we will take steps to delete such information.
                </p>

                <h2>11. Changes to This Privacy Policy</h2>
                <p>
                    We may update our Privacy Policy from time to time. We will notify you of any changes by 
                    posting the new Privacy Policy on this page and updating the "last updated" date.
                </p>

                <div class="contact-info">
                    <h2 style="margin-top: 0; border: none; padding: 0;">Contact Us</h2>
                    <p style="margin-bottom: 0;">
                        If you have any questions about this Privacy Policy, please contact us:
                    </p>
                    <p style="margin-bottom: 0;">
                        <strong>Email:</strong> privacy@nexsy.io<br>
                        <strong>Data Protection Officer:</strong> dpo@nexsy.io<br>
                        <strong>Address:</strong> Nexsy LMS Privacy Team<br>
                        <strong>Phone:</strong> Available through platform support system
                    </p>
                </div>

                <div class="last-updated">
                    <p>Last updated: {% now "F d, Y" %}</p>
                    <p>Effective date: {% now "F d, Y" %}</p>
                </div>
            </div>
        </div>
        
        <!-- Enhanced Navigation -->
        <div class="text-center mt-6">
            <button id="backButton" onclick="smartGoBack()" class="inline-flex items-center px-4 py-2 bg-gray-600 text-white text-sm font-medium rounded-md hover:bg-gray-700 transition-colors duration-200">
                <i class="fas fa-arrow-left mr-2"></i>
                Go Back
            </button>
            <a href="/login/" class="ml-4 inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700 transition-colors duration-200">
                <i class="fas fa-sign-in-alt mr-2"></i>
                Login
            </a>
        </div>
    </div>

    <script>
        function smartGoBack() {
            try {
                // Check if there's history to go back to
                if (window.history.length > 1) {
                    // Try to go back in history
                    window.history.back();
                    
                    // Set a timeout to check if the navigation happened
                    // If we're still on the same page after 500ms, use fallback
                    setTimeout(function() {
                        if (document.referrer && document.referrer !== window.location.href) {
                            // If there's a referrer and we're still here, go to referrer
                            window.location.href = document.referrer;
                        } else {
                            // Fallback to login page
                            window.location.href = "/login/";
                        }
                    }, 500);
                } else if (document.referrer && document.referrer !== window.location.href) {
                    // No history but there's a referrer, go to referrer
                    window.location.href = document.referrer;
                } else {
                    // No history and no referrer, go to login
                    window.location.href = "/login/";
                }
            } catch (error) {
                // If any error occurs, fallback to login page
                console.log('Navigation error, redirecting to login:', error);
                window.location.href = "/login/";
            }
        }

        // Update button text based on navigation context
        document.addEventListener('DOMContentLoaded', function() {
            const backButton = document.getElementById('backButton');
            const buttonIcon = backButton.querySelector('i');
            const buttonText = backButton.childNodes[2];
            
            if (window.history.length <= 1 && (!document.referrer || document.referrer === window.location.href)) {
                // No back navigation available, change button to suggest login
                buttonIcon.className = 'fas fa-sign-in-alt mr-2';
                buttonText.textContent = 'Go to Login';
                backButton.className = backButton.className.replace('bg-gray-600', 'bg-blue-600').replace('hover:bg-gray-700', 'hover:bg-blue-700');
                backButton.onclick = function() { window.location.href = '/login/'; };
            }
        });
    </script>
</body>
</html>
