# ==============================================
# LMS PROJECT - UNIFIED ENVIRONMENT CONFIGURATION
# ==============================================
# This file contains all environment variables for the LMS project
# Copy this file to .env and configure for your server
# ==============================================

# ==============================================
# SERVER-SPECIFIC CONFIGURATION (CUSTOMIZE FOR EACH SERVER)
# ==============================================
# Project root directory (where manage.py is located)
PROJECT_ROOT=/home/ec2-user/lms

# Static files directory
STATIC_ROOT=/home/ec2-user/lmsstaticfiles

# Logs directory
LOGS_DIR=/home/ec2-user/lmslogs

# Media files directory (if using local storage)
MEDIA_ROOT=/home/ec2-user/lms/media

# SCORM uploads directory
SCORM_ROOT_FOLDER=/home/ec2-user/lms/scorm_uploads

# Server user and group
SERVER_USER=ec2-user
SERVER_GROUP=ec2-user

# Server domain configuration
PRIMARY_DOMAIN=staging.nexsy.io
ALB_DOMAIN=staging.nexsy.io

# Base URL for the application (used for emails, SCORM redirects, etc.)
# If not provided, will be auto-constructed from PRIMARY_DOMAIN
BASE_URL=https://staging.nexsy.io

# Gunicorn configuration
GUNICORN_BIND=0.0.0.0:8000
GUNICORN_WORKERS=auto
GUNICORN_TIMEOUT=30

# ==============================================
# DJANGO CORE CONFIGURATION
# ==============================================
DJANGO_SETTINGS_MODULE=LMS_Project.settings.production
DJANGO_ENV=production
DJANGO_SECRET_KEY="lms-staging-secret-key-2024-nexsy-io"

# ==============================================
# DATABASE CONFIGURATION
# ==============================================
# Staging Database
AWS_DB_PASSWORD=h901DlT08mWNtODhOe7TbjmDI
AWS_DB_NAME=postgres
AWS_DB_USER=lms_staging_admin
AWS_DB_HOST=lms-staging-db.c1wwcwuwq2pa.eu-west-2.rds.amazonaws.com
AWS_DB_PORT=5432

# ==============================================
# AWS S3 CONFIGURATION
# ==============================================
AWS_ACCESS_KEY_ID=AKIAQDCUK2WGJNJXNYG5
AWS_SECRET_ACCESS_KEY=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
AWS_STORAGE_BUCKET_NAME=lms-staging-nexsy-io
AWS_S3_REGION_NAME=eu-west-2
AWS_MEDIA_LOCATION=media

# ==============================================
# REDIS CONFIGURATION
# ==============================================
REDIS_URL=redis://127.0.0.1:6379/0

# ==============================================
# DOMAIN & HOST CONFIGURATION
# ==============================================
# Additional allowed hosts (comma-separated, optional)
# These are added to PRIMARY_DOMAIN and ALB_DOMAIN automatically
ADDITIONAL_ALLOWED_HOSTS=3.8.4.75,localhost,127.0.0.1

# Additional CORS origins (comma-separated, optional)
ADDITIONAL_CORS_ORIGINS=https://staging.nexsy.io,http://3.8.4.75

# Additional CSRF trusted origins (comma-separated, optional)
ADDITIONAL_CSRF_ORIGINS=https://staging.nexsy.io,http://3.8.4.75

# ==============================================
# MICROSOFT 365 OAUTH2 EMAIL CONFIGURATION
# ==============================================
OUTLOOK_CLIENT_ID=your_outlook_client_id
OUTLOOK_CLIENT_SECRET=your_outlook_client_secret
OUTLOOK_TENANT_ID=your_outlook_tenant_id
OUTLOOK_FROM_EMAIL=noreply@staging.nexsy.io

# ==============================================
# SECURITY CONFIGURATION
# ==============================================
SECURE_SSL_REDIRECT=True
TRUSTED_IPS=3.8.4.75

# ==============================================
# PERFORMANCE & MEMORY CONFIGURATION
# ==============================================
MEMORY_THRESHOLD_MB=800
MEMORY_WARNING_THRESHOLD_MB=600
DASHBOARD_MEMORY_THRESHOLD_MB=400
MAX_CONCURRENT_PDF_OPERATIONS=2
DASHBOARD_CACHE_TIMEOUT=300

# ==============================================
# SCORM CONFIGURATION
# ==============================================
SCORM_IMMEDIATE_SYNC=True
SCORM_WORKER_AUTO_START=True
SCORM_ROOT_FOLDER=/home/ec2-user/lms/scorm_uploads
SCORM_AUTO_CLEANUP=True
SCORM_CLEANUP_MAX_AGE_HOURS=24

# ==============================================
# AI INTEGRATION (ANTHROPIC)
# ==============================================
ANTHROPIC_API_KEY=your_anthropic_api_key
ANTHROPIC_MODEL=claude-3-5-sonnet-20241022
ANTHROPIC_MAX_TOKENS=1000

# ==============================================
# THIRD-PARTY INTEGRATIONS
# ==============================================
IDEAL_POSTCODES_API_KEY=your_postcodes_api_key

# ==============================================
# CACHE CONFIGURATION
# ==============================================
CACHE_KEY_PREFIX=lms_staging_

# ==============================================
# FEATURE FLAGS
# ==============================================
ENABLE_EXPERIMENTAL_FEATURES=False
ENABLE_AI_FEATURES=True
ENABLE_ADVANCED_ANALYTICS=True
ENABLE_TEST_DATA_GENERATION=False
ALLOW_UNSAFE_OPERATIONS=False
ENABLE_EXTERNAL_NOTIFICATIONS=True
ENABLE_PAYMENT_PROCESSING=True
ENABLE_EXTERNAL_ANALYTICS=True

# ==============================================
# API CONFIGURATION
# ==============================================
API_TIMEOUT=30
API_RETRY_ATTEMPTS=3
API_RETRY_DELAY=1000

# ==============================================
# LOGGING CONFIGURATION
# ==============================================
ENABLE_DETAILED_ERROR_LOGGING=True
ENABLE_API_MONITORING=True

# ==============================================
# CELERY CONFIGURATION
# ==============================================
CELERY_WORKER_LOGLEVEL=WARNING
CELERY_TASK_ALWAYS_EAGER=False
