{% for activity in recent_activities %}
<div class="dashboard-activity-item" style="cursor: pointer;"
     {% if activity.type == 'course' and activity.action == 'approve' %}
     onclick="window.location.href='{% url 'custom_users_admin' %}'"
     {% elif activity.type == 'course' and activity.course and activity.course.id and activity.course.id != '' %}
     onclick="window.location.href='{% url 'courses:course_view' activity.course.id %}'"
     {% elif activity.type == 'grade' %}
     onclick="window.location.href='{% url 'assignments:assignment_list' %}'"
     {% elif activity.type == 'user' %}
     onclick="window.location.href='{% url 'users:user_list' %}'"
     {% elif activity.type == 'branch' %}
     onclick="window.location.href='{% url 'branches:branch_list' %}'"
     {% elif activity.type == 'report' %}
     onclick="window.location.href='{% url 'reports:branch_report' %}'"
     {% else %}
     onclick="window.location.href='{% url 'dashboard_admin' %}'"
     {% endif %}>
    <div class="dashboard-activity-icon">
        {% if activity.type == 'course' %}
            {% if activity.action == 'approve' %}
                <i class="fas fa-user-check" style="color: #10b981;"></i>
            {% elif activity.action == 'review' %}
                <i class="fas fa-chart-line" style="color: #f59e0b;"></i>
            {% elif activity.action == 'contact' %}
                <i class="fas fa-envelope" style="color: #8b5cf6;"></i>
            {% elif activity.action == 'plan' %}
                <i class="fas fa-users" style="color: #ef4444;"></i>
            {% else %}
                <i class="fas fa-cogs" style="color: #6b7280;"></i>
            {% endif %}
        {% elif activity.type == 'grade' %}
            <i class="fas fa-clipboard-check" style="color: #3b82f6;"></i>
        {% elif activity.type == 'user' %}
            <i class="fas fa-users" style="color: #10b981;"></i>
        {% elif activity.type == 'branch' %}
            <i class="fas fa-code-branch" style="color: #8b5cf6;"></i>
        {% elif activity.type == 'report' %}
            <i class="fas fa-chart-bar" style="color: #f59e0b;"></i>
        {% else %}
            <i class="fas fa-tasks" style="color: #2f80ed;"></i>
        {% endif %}
    </div>
    <div class="dashboard-activity-content">
        <div class="dashboard-activity-title">
            <span class="dashboard-link">{{ activity.item.title }}</span>
        </div>
        <div class="dashboard-activity-description">
            {{ activity.description|safe }}
        </div>
        <div class="dashboard-activity-time">
            {% if activity.action == 'approve' %}
                <span style="color: {% if activity.priority == 'high' %}#ef4444{% else %}#f59e0b{% endif %};">
                    {{ activity.time|timesince }} ago
                </span>
            {% elif activity.action == 'monitor' %}
                <span style="color: #3b82f6;">
                    Needs attention
                </span>
            {% elif activity.action == 'plan' %}
                <span style="color: {% if activity.priority == 'high' %}#ef4444{% else %}#f59e0b{% endif %};">
                    Action required
                </span>
            {% elif activity.type == 'user' %}
                <span style="color: #10b981;">
                    {{ activity.time|timesince }} ago
                </span>
            {% elif activity.type == 'branch' %}
                <span style="color: #8b5cf6;">
                    {{ activity.time|timesince }} ago
                </span>
            {% elif activity.type == 'report' %}
                <span style="color: #f59e0b;">
                    Generated {{ activity.time|timesince }} ago
                </span>
            {% else %}
                <span style="color: #6b7280;">
                    Review needed
                </span>
            {% endif %}
        </div>
    </div>
    <div class="dashboard-activity-arrow" style="flex-shrink: 0; color: #9ca3af;">
        <i class="fas fa-chevron-right"></i>
    </div>
</div>
{% endfor %} 